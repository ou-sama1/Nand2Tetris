@flag
M=1
@R1
D=M
@TERMINATE
D;JEQ
@R2
D=M
@TERMINATE
D;JEQ
@R1
D=M
@ANEGATIVE
D;JLT
@R2
D=M
@BNEGATIVE
D;JLT
(POSITIVEMULT)
@R1
D=M
@tempa
M=D
@R2
D=M
@tempb
M=D
(MULT)
@tempb
D=M
@tempa
D=D-M
@BLTA
D;JLT
@tempa
D=M
@i
M=D
(LOOP)
@i
D=M
@END
D;JEQ
@tempb
D=M
@sum
M=D+M
@i
M=M-1
@LOOP
0;JMP
(BLTA)
@tempa
D=M
@tempc
M=D
@tempb
D=M
@tempa
M=D
@tempc
D=M
@tempb
M=D
@MULT
0;JMP
(ANEGATIVE)
@flag
M=-M
@R1
D=-M
@tempa
M=D
@R2
D=M
@BNEGATIVE
D;JLT
@tempb
M=D
@MULT
0;JMP
(BNEGATIVE)
@flag
M=-M
@R2
D=-M
@tempb
M=D
@flag
D=M
@MULT
D;JGT
@R1
D=M
@tempa
M=D
@MULT
0;JMP
(END)
@flag
D=M
@NEGATIVERESULT
D;JLT
(SETRESULT)
@sum
D=M
@R3
M=D
@TERMINATE
0;JMP
(NEGATIVERESULT)
@sum
M=-M
@SETRESULT
0;JMP
(TERMINATE)
@TERMINATE
0;JMP
